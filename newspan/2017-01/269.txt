But while Mr. Trump’s position was broad and biting, it was unclear just how extensive any funding cuts could be. In the current fiscal year, New York City expects to receive $8.8 billion in federal funding for a variety of programs, including education and transportation, to fill out its $84.8 billion annual budget. But the administration’s ability to turn off the federal funds is limited, legal advisers to Mr. de Blasio said.
According to Comptroller Scott M. Stringer, the federal grants that might be vulnerable include $9 million from the Department of Justice and $156 million from the Department of Homeland Security. But because that money is for counterterrorism efforts, it would seem unlikely that it would be cut.
Behind the term that Donald J. Trump and others are talking about.
According to a 2012 Supreme Court decision, Mr. Markowitz said, Congress is not permitted to set conditions on spending to coerce states or localities to participate in a federal program against their will. Any conditions, at a minimum, must be directly related to the punitive action.
According to the Immigrant Legal Resource Center, a national group, at least 39 cities and 364 counties nationwide count themselves as sanctuary jurisdictions, but they vary in how limited they are in restricting cooperation with immigration enforcement.
California has been one of the leaders in offering sanctuary, and reaction there was strong.
An hour after the president signed the order, a group of California state senators said they planned to fight it in court, with help from Eric H. Holder Jr., former attorney general, whom the Legislature has retained to take on what the senators said they expected would be continued fights with the Trump administration. They said Mr. Trump’s order violated the 10th Amendment by forcing local governments to enforce federal statutes.
San Francisco featured prominently in the debate over sanctuary city policies after the killing of Kathryn Steinle, a resident of the city, in July 2015.
Ms. Steinle was 32 when she was fatally shot by Juan Francisco Lopez-Sanchez, an immigrant from Mexico who was in the United States illegally. He had a long criminal record, a history of heroin abuse and had been deported to Mexico at least five times.
A case brought by the Steinle family in federal court in May blames the San Francisco county sheriff at the time, Ross Mirkarimi, for issuing a memo that ordered his staff to cut off all communication with federal immigration authorities, according to court documents.
After Mr. Trump signed the order, San Francisco’s mayor, Ed Lee, issued a statement in coordination with Mr. Liccardo and the mayor of Oakland, Libby Schaaf.
In New York, Mr. de Blasio said the president’s order would threaten the relationship between the police and residents because undocumented immigrants would be hesitant to cooperate with law enforcement.
Mr. Walsh said he would allow people to effectively take up residence inside City Hall, evoking the “sanctuary church” movement, in which religious groups have offered shelter to undocumented immigrants who fear deportation.
