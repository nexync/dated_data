WASHINGTON — President Trump was fed up with the grind of health care legislation, and at a dinner with Republican senators on Monday at the White House, he let them know it. He told the lawmakers how annoyed he was with one Republican who was not there, Senator Rand Paul of Kentucky, who had gone on television over the weekend to oppose a Senate health care bill that once held the promise of victory for Mr. Trump.
It is one thing to vote no, Mr. Trump told the group, according to one of the guests. It is another, the president said, to go on all of the Sunday shows and complain about it.
The scene on Monday night was an exasperating end for Mr. Trump to a month of negotiations between the White House and Senate Republicans in an effort to repeal the Affordable Care Act, President Barack Obama’s signature domestic legacy.
The Senate bill, which faced a near-impossible path forward after the House passed its version of the legislation in May, was ultimately defeated by deep divisions within the party, a lack of a viable health care alternative and a president who, one staff member said, was growing bored in selling the bill and often undermined the best-laid plans of his aides with a quip or a tweet.
The effort by Senate Republican leaders to remake the nation’s health care system — which went well beyond the perimeters of Mr. Obama’s health care law — was in retrospect doomed from the moment it began, even with the wind of an unlikely win in the House at their backs.
The Senate measure would impose annual caps on Medicaid spending, ending what has been an open-ended entitlement for the poor and disabled. The process bypassed committees, any public airing of the bill or formal bill drafting. Instead, Senator Mitch McConnell of Kentucky, the majority leader, farmed out the remaking of 17 percent of the economy to a small group of senators, all Republican white men. The bad first look did not fade.
But under fire for the all-male panel, Mr. McConnell reduced it to little more than a kaffeeklatsch, open to anyone who wanted to come by and chat health care.
Republican senators, reflecting the divide in the party, quickly formed two camps: those who wanted to squeeze hundreds of billions of dollars out of Medicaid, and those, mainly from states that had expanded the program, who wanted to preserve it. Both groups held constant meetings, with many usually conservative senators like Jerry Moran of Kansas and Charles E. Grassley of Iowa sliding into the moderate group’s gatherings to quietly voice their own concerns.
Senator Rob Portman of Ohio, in particular, formed the spine of opposition to the bill, and pushed for changes to reduce the cuts to Medicaid. In his state, more than 700,000 low-income people have gained coverage through the expansion of Medicaid under the Affordable Care Act.
Senator Susan Collins of Maine criticized the Trump administration’s often specious descriptions of what the bill would actually do, bolstering other more quiet critics’ resolve.
Mr. McConnell in the meantime did not have enough reliable allies on the right. Mr. Paul made it clear from the start that he would not support anything but a full repeal of the law. Senators Mike Lee of Utah and Ted Cruz of Texas had repeated conversations with Republican leaders and the White House about how to make the bill sufficiently conservative. Senator Dean Heller, Republican of Nevada, dealt an early blow by suggesting he would not support the bill.
Making matters worse for the White House, the bill had virtually no support from health care, insurance, patient advocate and disease groups, and was harshly judged by the Congressional Budget Office. Grass-roots opposition to the bill — aided by Democrats like Senator Chuck Schumer of New York — swayed members of Congress in a way rarely seen on Capitol Hill.
At the annual meeting of the American Hospital Association in May, Mr. Schumer, the Senate Democratic leader, urged hospital executives to mobilize their employees in an effort to defeat the bill, which had been approved by the House just a few days earlier.
The final efforts for the bill began to unravel over the weekend as several Republican senators began to balk at the legislation. Although the Trump administration had dispatched Seema Verma, the new administrator of the Centers for Medicare and Medicaid Services, to the summer meeting of the National Governors Association in Providence, R.I., to try to persuade governors — and, by extension, the senators in their states — of the bill’s merits, the governors remained unmoved.
By Saturday night, aides to Senator John McCain of Arizona, who is recovering from surgery, announced that he was unable to return from Phoenix this week, leaving Republican leaders another vote short.
By Monday night, as Mr. Trump was meeting with the group of Republican senators at the White House — not one of whom was on the fence about the bill — Mr. Moran and Mr. Lee, two senators who were on the fence, issued statements saying they would not support it, a catastrophe for the White House.
Late Monday, Mr. McConnell responded by vowing to pass a measure to repeal the Affordable Care Act now, then work on a replacement over the next two years. But on Tuesday, three Republican senators — Ms. Collins, Shelley Moore Capito of West Virginia and Lisa Murkowski of Alaska — told Mr. McConnell they would not support his last-ditch effort.
Ms. Capito has generally been an ally of Republican leaders on even really tough votes and once told colleagues that the nearly 180,000 people on Medicaid in her state outnumbered the total number of people who had voted for her.
Mr. Kasich, who had been against the bill, was pleased with the outcome on Tuesday, and recalled conversations he had with Mr. Portman.
Patient advocates, who had major concerns about the bill, were relieved.
Now what Mr. Trump once described as “an easy” process appears destined to stall his policy agenda, and has damaged his diminished standing on Capitol Hill.
Still, the White House is not giving up. Late on Tuesday, Sean Spicer, the White House press secretary, announced that Mr. Trump was inviting all Republican senators to the White House on Wednesday — to talk about health care.