WASHINGTON — President Trump on Tuesday withdrew the nomination of Patrick M. Shanahan to be the permanent defense secretary, leaving the Pentagon in transition at a time of escalating tensions with Iran and questions about the role of the military on the border with Mexico.
Mr. Shanahan, a former Boeing executive who had been serving as the acting defense secretary, announced his resignation as an F.B.I. background investigation, conducted on all cabinet nominees, was continuing because of incidents of family violence.
Mr. Shanahan’s ex-wife had accused him of punching her in the stomach, which Mr. Shanahan has denied. He said his ex-wife started the fight, and his spokesman said she was arrested and charged with domestic violence. The charges were eventually dropped.
The president said the withdrawal was the choice of Mr. Shanahan, who told Mr. Trump of his decision in an Oval Office meeting on Tuesday, shortly before Mr. Trump made the announcement in a Twitter post.
Mr. Shanahan’s resignation is not expected to have much effect on defense policy. Unlike his predecessor, Jim Mattis, Mr. Shanahan had largely acquiesced to the White House on a wide range of issues, including Mr. Trump’s recent decisions to deploy 2,500 troops to the Persian Gulf to counter the influence of Iran.
In addition to Mr. Esper, who was confirmed as secretary of the Army in November 2017, officials said Mike Pompeo, the secretary of state, and Richard V. Spencer, the secretary of the Navy, were on the short list for defense secretary.
Mr. Shanahan’s divorce generated 4,700 pages in numerous filings in King County Superior Court in Seattle. The court documents, which were viewed by The New York Times, paint a portrait of a family torn apart by different views on how the three Shanahan children should be raised, as well as over Mr. Shanahan’s extended absences while he was at Boeing.
Two particular incidents stand out. On the night of Aug. 27, 2010, at the couple’s residence in Seattle, Mr. Shanahan’s wife at the time, Kimberley Jordinson Shanahan, called 911 after a fight with Mr. Shanahan. According to a statement from the couple’s son, the two argued over, among other things, a briefcase belonging to Mr. Shanahan that Mrs. Shanahan wanted to open.
Ms. Jordinson told the police that Mr. Shanahan punched her in the stomach while trying to take back the briefcase. He denied that accusation, and the police charged her with domestic violence, but then dropped the charge.
Ms. Jordinson said that she was knocked unconscious, and that William packed a bag and left the house. The couple’s youngest son, Jack, ran to a neighbor’s house and called the police. Ms. Jordinson was hospitalized.
Mr. Shanahan, who had remained living in Seattle, booked William into a hotel and flew to Florida the next day. He stayed there with his son in the hotel for four days before William turned himself in to the police, according to the statement from Ms. Jordinson. Mr. Shanahan paid for defense attorneys for his son, who eventually entered into a plea bargain with the state.
Mr. Shanahan and Pentagon aides have known for months that the divorce details, which are publicly available in King County Superior Court, could have come up at his confirmation hearing. One Pentagon official said Tuesday that aides thought Mr. Shanahan would be able to ride out the storm because he was never charged with a crime.
A person familiar with the situation said White House officials did not know about Mr. Shanahan’s domestic strife until reading about it last week in Washington Babylon, a website that says it covers “shocking true stories and political sleaze.” The allegations did not come up during Mr. Shanahan’s 2017 confirmation hearing to be deputy defense secretary. F.B.I. officials declined to comment on whether they knew about the divorce filing at the time.
“It’s very unfortunate,” the president told reporters. He insisted that Mr. Shanahan’s background had been thoroughly checked. “We have a very good vetting process,” he said.
To aides, Mr. Trump expressed incredulity that another of his appointees was facing personal difficulties that made his nomination impossible. “Can you believe this?’’ Mr. Trump said to aides, according to a person in the room.
While he was widely viewed as readily consenting to the views of the White House and two administration hawks — John R. Bolton, the national security adviser, and Mr. Pompeo — Mr. Shanahan also stumbled when dealing with lawmakers who would have to confirm him as defense secretary. Even as he defended the president’s proposal to create a Space Force in the military, and said that the Pentagon would not be viewed as the “Department of No” to Mr. Trump, Mr. Shanahan failed to convince Congress that he was ready to lead the country’s 1.35 million active duty troops.
In February, Senator James M. Inhofe, Republican of Oklahoma and chairman of the Armed Services Committee, praised the humility of Mr. Shanahan’s predecessor, Jim Mattis, and said Mr. Shanahan did not share that trait. Mr. Inhofe later told reporters he was kidding.
Mr. Shanahan was brought on as deputy secretary of defense to make the bureaucracy operate more like a business, and was known for digging into details at the Pentagon. On some Saturdays he held five-hour meetings about the F-35 Joint Strike Fighter, which is years behind schedule and billions of dollars over budget. He characterized the F-35 program as deeply flawed.
Critics said Mr. Shanahan was unfairly criticizing the F-35’s contractor and Boeing’s chief competitor, Lockheed Martin, but the Defense Department’s inspector general conducted an ethics investigation into whether Mr. Shanahan “repeatedly dumped” on Boeing’s competitors, and ultimately cleared him of the allegations. Once that hurdle was removed, Mr. Trump nominated Mr. Shanahan to be secretary.
Mr. Trump’s decision not to move ahead with Mr. Shanahan is the latest evidence of the difficulty that the president has had in permanently filling the top jobs in his administration.
The president also has an acting chief of staff at the White House and an acting secretary of homeland security.
Mr. Shanahan’s last day as acting defense secretary is June 23.