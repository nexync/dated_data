Judge Sabraw’s order, which is likely to prompt a high-profile legal battle with the Justice Department, came on the same day that President Trump won a landmark legal victory when the Supreme Court upheld his travel ban, ending a 17-month legal fight.
But the judge’s ruling in the family separation case raises the stakes on an issue that had already become an intensely difficult political crisis for Mr. Trump. The president last week issued an executive order seeking to bring family separations to an end, but saying little about reuniting families.
The American Civil Liberties Union had filed a lawsuit to stop the separations before the president’s executive order. In his order, Judge Sabraw said that children may be separated at the border only if the adults with them present an immediate danger to the children.
A federal judge in California issued a nationwide injunction temporarily stopping the Trump administration from separating families at the border, and he ordered that all families already separated be reunited within 30 days.
The A.C.L.U. lawsuit was initially brought on behalf of two cases in which the children of immigrants were taken from them after they crossed the border.
In one case, a woman entered the United States legally at a port of entry, fleeing persecution in the Democratic Republic of the Congo. The lawsuit says that her 6-year-old daughter was taken from her and sent to a facility in Chicago, where she stayed for nearly five months.
In another case, a woman from Brazil, identified as “Ms. C,” crossed the border illegally with her 14-year-old son, who was separated from her and also sent to a facility in Chicago. The mother and son were apart for nearly eight months, according to the lawsuit.
Earlier Tuesday, seventeen states sued Mr. Trump for his administration’s practice of separating immigrant parents from their children, saying that the tactic is causing “devastating harm,” even as a top official said the government was struggling to reunite families fractured by the policy.
On a day when Mr. Trump basked publicly in the glow of a victory, with the Supreme Court upholding his travel ban, he faced a new legal challenge to what has emerged as the most controversial piece of his immigration agenda.
The states, including Washington, California and New York and joined by the District of Columbia, branded the forcible separation of immigrant families unconstitutional, “cruel and unlawful,” calling it a violation of the principles of due process and equal protection. They requested that the court halt it and immediately compel the government to reunite parents with their children.
The Trump administration says it is trying to do just that, but success has proved vexing. The administration has appeared unprepared for the fallout from its decision to prosecute every immigrant apprehended entering the country without authorization — including those who are seeking asylum — without exceptions for parents.
Even after Mr. Trump reversed course last week and moved to detain migrant parents facing charges of unlawful entry with their children, the challenge of reuniting families already torn apart has morphed into a crisis of its own.
Alex M. Azar II, the secretary of health and human services, told senators on Tuesday that his department — which is charged with taking custody of undocumented unaccompanied minors — was having trouble figuring out how to care for the children it was holding who had been separated from their parents.
Some of them, he said, were in federal custody even though their parents had been sent back to Central America after trying to enter the United States illegally.
For one teenager who fled violence in El Salvador on his own in 2014, the days he spent in a Texas border detention center were some of the worst of his life. He tells us what it was like.
Saul Martinez spent six days at a border patrol detention center in 2014, after a month-long trek from El Salvador. He was part of the surge of children who arrived at the southern border alone, mostly from Central America. And back then, like now, the government wrestled with how to handle thousands of children caught up in the immigration system. “We now have an actual humanitarian crisis on the border that only underscores the need to drop the politics and fix our immigration system once and for all.” Images like these led to public outcry on the treatment of vulnerable children. But he did tell his story when he testified before members of Congress. The panel wanted to hear why he had come. He wanted to tell them what had happened once he arrived. He remembers the rooms being filled with children and mothers waiting for their names to be called. After six days, he was flown to a shelter in Miami, run by a separate government agency. He says it was very comfortable. And on Mother’s Day, he was finally reunited with his mother. Four years later, Saul has a green card, a job and one year left of high school. And there is a new crisis unfolding at the southern border. But for kids like Saul, it feels like history is repeating itself.
Mr. Azar said his department is holding 2,047 separated children, only six fewer than it held last week when Mr. Trump signed the executive order.
Yet in the lawsuit, filed in the United States District Court in Seattle, the attorneys general for the states noted that Mr. Trump’s order last week did not apply to families already broken apart, nor did it prevent the tactic from being used in the future.
A top official at Customs and Border Protection said Monday that the agency would cease referring parents traveling with minor children for criminal prosecution in order to keep families together. But White House officials said Monday that the change was temporary and only being carried out because the government would soon run out of space and resources to detain families together.
Amid the chaos, the first lady, Melania Trump, who traveled last week to a facility housing undocumented children who had been separated from their parents at the border, has planned another such visit this week, according to a spokeswoman.
The president, emboldened by the Supreme Court’s validation of the travel ban, continued on Tuesday to rail against immigration laws that afford those fleeing danger and persecution in their home countries the chance to have their asylum claims adjudicated by a judge. “If they step on our land, they have judges — it’s insane,” Mr. Trump said. He said the United States should adopt stricter laws that send an unmistakable message that only immigrants who have special skills to boost the American economy should be allowed into the country.
Vice President Mike Pence, traveling in Brazil, implored would-be immigrants not to attempt to cross the United States border without authorization.
The lawsuit filed Tuesday took aim at the administration’s hostility toward asylum seekers, maintaining that officials at the border were violating the law by turning them away before they could reach a port of entry to lawfully make their claim or, in some cases, before detaining them and taking away their children.
“By criminalizing the pursuit of asylum, this policy runs counter to established immigration and refugee laws,” the lawsuit said.
White House officials did not respond to requests for comment about the legal challenge.
Yet even as Mr. Trump vented his anger about the current state of immigration laws, his on-again, off-again push for a legislative overhaul of immigration policy appeared headed for defeat. The House was poised to reject a broad immigration bill slated for a vote on Wednesday, a result that is likely to prompt lawmakers in that chamber to shift their focus to narrower legislation meant to ensure that families are kept together at the border.
If the broad overhaul fails, it would be the second time in a week that a wide-ranging immigration bill died in the House because of persistent divisions among Republican members and mixed signals from a president who is reluctant to be seen as suffering a defeat. The House voted down a hard-line immigration bill last week, with 41 Republicans joining Democrats in siding against the measure.
It was not clear on Tuesday whether the overhaul to be voted on this week — a compromise worked out by Republican moderates and conservatives — would fare any better.
Speaker Paul D. Ryan of Wisconsin reiterated Tuesday that he wants migrant families to be kept together. But he held back from previewing how the House might take action if the broad legislation fails on Wednesday.
With the bill’s defeat all but certain, Republicans in the House appear ready to pursue a narrower measure on the issue of family separation.
“We want to make sure that’s addressed regardless,” said Representative Mark Walker of North Carolina, the chairman of the Republican Study Committee, a group of conservative members.
With the Fourth of July looming, it was not clear how quickly the House might be able to take action on that subject. The chamber is scheduled to finish its work for the week on Thursday and not return until July 10. Senators have also been pursuing stand-alone legislation intended to keep families together.
The broader immigration overhaul had first been scheduled for a vote in the House last Thursday. But Republican leaders delayed the vote until Friday, and then pushed it to this week, as they tried to grow its support in the chamber.